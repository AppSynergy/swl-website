@import sizing
@import chili

$navHeight: 3.0em
$navBottomMargin: 1.2em
$navBorderColor: #444

.screenNav
	+setHeight($navHeight)
	font-family: $titleFont
	list-style: none
	padding: 0.5em
	margin: 0 0.3em
	margin-bottom: $navBottomMargin
	li
		float: left
		padding: 0 0.6em
		border-left: 1px solid $navBorderColor
		cursor: pointer
		color: #ffffee
		font-size: 1.4em
		letter-spacing: 0.08em
	li:first-child
		border-left: none
	li:hover
		text-shadow: 0 0 6px #aaa
	li.selected
		color: $selectedColor
		text-shadow: 0 0 8px $selectedBloomColor
	li.attention
		color: #F68B44

// +-----------+
// |MULTIPLAYER|  settings  status  help
// +-----------+

.homeScreenTop
	button
		text-shadow: 0 0 7px black
		border: none
		border-radius: 6px
		&:hover
			text-shadow: 0 0 6px white
		&:active
			border: none
	.multiplayerButton
		font-family: $titleFont
		font-size: 3.0em
		background-color: #168A90
		margin: 0 0.2em
		padding: 0.3em 0.5em
	.homeMiscButtons
		> button
			font-size: 1.3em
			letter-spacing: 0.07em
			color: rgb(177, 177, 177)
			&:hover
				color: white

// A panel for every game! The digital wall of fame!

.gamePanels
	-moz-column-count: 2
	-webkit-column-count: 2
	-webkit-column-gap: 0
	-webkit-column-span: none
	column-count: 2
	> button, .gamePanel > button
		font-family: $titleFont
		font-size: 2.0em
		text-shadow: 0 0 7px black
		box-shadow: 0 0 7px black
		display: block
		border: none
		border-radius: 6px
		background-color: rgba(26, 94, 45, 0.8)
		margin: 0.5em 0
		padding: 0.3em 0.5em
		&:active
			border: none
		&:hover
			text-shadow: 0 0 6px white
	h1
		font-family: $titleFont
		font-size: 3.0em
		text-shadow: 0 0 7px black
		letter-spacing: 0.13em
	.gamePanel
		+chiliBorder
		// The calc() is a hack to fix a rendering glitch.
		+setWidth(calc(100% - 20px))
		display: inline-block
		background-clip: padding-box
		padding: 1em 2.2em
		margin: 6px
	.evoPanel
		background-image: url('http://www.evolutionrts.info/wordpress/wp-content/uploads/2011/02/screen00254.jpg')
	.zkPanel
		background-image: url('http://zero-k.info/img/screenshots/tropical.jpg')
		background-size: 200%
	.otherPanel
		background-image: url('http://springrts.com/screenshot.php?id=3434')
		background-size: 200%

// Layout

$homeTopHeight: 6.5em
$downloadBarHeight: 10em
$downloadBarTransitionDuration: 200ms

.homeScreen
	+setHeight(100%)
	.homeScreenTop
		+setHeight($homeTopHeight)
	.homeScreenMiddle
		+setHeight(calc(100% - #{$homeTopHeight}))
		overflow: auto

.screenMain
	+setHeight(calc(100% - #{$navHeight} - #{$navBottomMargin}))

.screenManager
	height: 100%
	.downloadList
		position: absolute
		top: 0
		left: 0
		right: 0
		transition-property: height
		transition-duration: $downloadBarTransitionDuration
		height: 0
		box-sizing: border-box

.screenManager.showingDownloads
	.downloadList
		height: $downloadBarHeight
	.topRight
		top: $downloadBarHeight

// Downloads and Connect buttons, GameInfo status.

.topRight
	position: absolute
	top: 0
	right: 5px
	transition-property: top
	transition-duration: $downloadBarTransitionDuration
	> *
		float: left
	.gameInfoStatus
		font-size: 0.9em
		margin-right: 2em
		margin-top: 0.2em
		img
			position: relative
			top: 0.3em
			margin-right: 0.3em

.topRight .topRightButtons
	background: #111
	border: 1px solid #444
	border-top: none
	border-bottom-left-radius: 8px
	border-bottom-right-radius: 8px
	button
		img
			vertical-align: middle
			height: 12px
			width: 12px
		font-size: 0.85em
		color: #ccc
		border: none
		border-left: 1px solid #444
		height: 2.5em
	button:first-child
		border-left: none
	button:active
		border: none

// User agreement text.

.agreementText
	white-space: pre-wrap
	max-height: 15em
	overflow: auto

.downloadList
	+chili3dBox
	background: #111
	.downloads
		overflow: auto
		height: calc(100% - 1em)
		margin: 0.5em 0
		margin-left: 1em
	h2
		font-weight: normal
		font-family: monospace
		text-align: center
		margin-top: 2em
	.progressBar
		width: calc(100% - 40em)
	a
		display: block
		position: absolute
		bottom: 1em
		right: 1em
	.manualDialog > div
		margin: 0.8em 0

.browserDemoWarning
	position: absolute
	right: 1em
	top: 5em
	max-width: calc(100% - 50em)
	width: 37em
	color: rgb(255, 71, 0)
	font-weight: bold
